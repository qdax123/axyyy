(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a22893d4"],{"08d7":function(t,i,s){},9639:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"my"},[i("div",{staticClass:"w1200"},[i("div",{staticClass:"my-container"},[i("div",{staticClass:"my-aside"},[i("h3",{staticClass:"my-favorite active",on:{click:t.jump}},[t._v("我收藏的歌手 "),i("i",{staticClass:"iconfont icon-arrow"})]),i("h3",{class:[t.slideBox1?"active":""],on:{click:function(i){return t.toggleSlide("1")}}},[i("span",[t._v("创建的歌单 ("+t._s(t.createdList.length)+")")]),t._v(" "),i("i",{staticClass:"iconfont icon-arrow"})]),i("div",{class:["playlist-main",t.slideBox1?"active":""]},t._l(t.createdList,(function(s,e){return i("router-link",{key:s.id,staticClass:"item",class:["item",String(t.id)===String(s.id)?"active":""],attrs:{to:{name:"myPlaylist",query:{id:s.id}}}},[i("el-image",{attrs:{src:s.coverImgUrl}},[i("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[i("i",{staticClass:"iconfont icon-placeholder"})])]),i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[t._v(t._s(s.name))]),i("div",{staticClass:"author"},[t._v(" "+t._s(s.trackCount)+"首 By. "),i("span",[t._v(t._s(s.creator.nickname))]),e?i("i",{staticClass:"iconfont icon-del",on:{click:function(i){return t.delPlayList(s,e,"created")}}}):t._e()])])],1)})),1),i("h3",{class:[t.slideBox2?"active":""],on:{click:function(i){return t.toggleSlide("2")}}},[i("span",[t._v("收藏的歌单 ("+t._s(t.collectList.length)+")")]),t._v(" "),i("i",{staticClass:"iconfont icon-arrow"})]),i("div",{class:["playlist-main",t.slideBox2?"active":""]},t._l(t.collectList,(function(s,e){return i("router-link",{key:s.id,staticClass:"item",class:["item",String(t.id)===String(s.id)?"active":""],attrs:{to:{name:"myPlaylist",query:{id:s.id}}}},[i("el-image",{attrs:{src:s.coverImgUrl}},[i("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[i("i",{staticClass:"iconfont icon-placeholder"})])]),i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[t._v(t._s(s.name))]),i("div",{staticClass:"author"},[t._v(" "+t._s(s.trackCount)+"首 By. "),i("span",[t._v(t._s(s.creator.nickname))]),i("i",{staticClass:"iconfont icon-del",on:{click:function(i){return t.delPlayList(s,e,"collect")}}})])])],1)})),1)]),i("div",{staticClass:"my-main"},[i("router-view")],1)])])])},a=[],c=(s("14d9"),s("2f62")),l={components:{},created(){this.$route.path.indexOf("/my")>=0&&!this.isLogin&&this.$router.push({path:"/"})},data(){return{createdList:[],collectList:[],slideBox1:!1,slideBox2:!1,id:this.$route.query.id}},computed:{...Object(c["c"])(["isLogin","userInfo"])},mounted(){this.isLogin&&this.getUserPlayList()},methods:{async getUserPlayList(){const{data:t}=await this.$http.playlistUser({uid:this.userInfo.userId,limit:"",offset:""});if(200!==t.code)return this.$msg.error("数据请求失败");this.createdList=t.playlist.filter(t=>!t.subscribed),this.collectList=t.playlist.filter(t=>t.subscribed),this.id||"/my/favorite"===this.$route.path||(this.id=this.createdList[0].id,this.$router.push({path:"my/playlist",query:{id:this.id}}))},toggleSlide(t){this["slideBox"+t]=!this["slideBox"+t]},async delPlayList(t,i,s){const{data:e}=await this.$http.subPlayList({id:t.id,t:t.subscribed?2:1});if(200!==e.code)return this.$msg.error("数据请求失败");this[s+"List"].splice(i,1),this.id=this.createdList[0].id,this.$router.push({path:"/my/playlist",query:{id:this.createdList[0].id}})},jump(){this.$router.push({path:"/my/favorite"})}},watch:{$route(){this.id=this.$route.query.id,this.id||"/my/favorite"===this.$route.path||(this.id=this.createdList[0].id,this.$router.push({path:"my/playlist",query:{id:this.id}}))}}},r=l,o=(s("99e0"),s("2877")),n=Object(o["a"])(r,e,a,!1,null,"66e12cc9",null);i["default"]=n.exports},"99e0":function(t,i,s){"use strict";s("08d7")}}]);
//# sourceMappingURL=chunk-a22893d4.7e5836c8.js.map