(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62660a3c"],{"0f2a":function(t,s,i){"use strict";i("ab8b")},"1b64":function(t,s,i){"use strict";i("5635")},2253:function(t,s,i){"use strict";var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"album"},t._l(t.albumList,(function(i){return s("router-link",{key:i.id,staticClass:"item",attrs:{to:{path:"/album",query:{id:i.id}}}},[s("div",{staticClass:"faceImg"},[s("el-image",{attrs:{src:i.picUrl+"?param=120y120"}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"info"},[s("div",{staticClass:"album-type"},[t._v(t._s(i.type))]),i.name?s("div",{staticClass:"album-name"},[t._v(t._s(i.name))]):t._e(),i.artist?s("div",{staticClass:"artist-name"},[t._v(t._s(i.artist.name))]):t._e()])])})),1)},a=[],l={components:{},props:["albumList"],data(){return{}},computed:{},methods:{}},r=l,c=(i("6b37"),i("2877")),o=Object(c["a"])(r,e,a,!1,null,"1b093cfc",null);s["a"]=o.exports},2960:function(t,s,i){"use strict";i("60a6")},"41e4":function(t,s,i){},5635:function(t,s,i){},"57b7":function(t,s,i){"use strict";var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"mv"},t._l(t.mvList,(function(i,e){return s("div",{key:""+i.id+e,staticClass:"item"},[s("router-link",{staticClass:"faceImg",attrs:{to:{path:"/mv",query:{id:i.id}}}},[s("i",{staticClass:"iconfont icon-play"}),s("el-image",{attrs:{src:i.cover||i.imgurl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"info"},[s("router-link",{staticClass:"mv-name",attrs:{to:{path:"/mv",query:{id:i.id}}}},[t._v(t._s(i.name))]),i.publishTime?t._e():s("router-link",{staticClass:"mv-author",attrs:{to:{path:"/singer",query:{id:i.artistId}}}},[t._v(t._s(i.artistName))]),s("div",{staticClass:"mv-playCount"},[s("i",{staticClass:"iconfont icon-video"}),t._v(" "+t._s(t.$utils.formartNum(i.playCount)))]),i.publishTime?s("div",{staticClass:"mv-time"},[t._v("发布时间："+t._s(i.publishTime))]):t._e()],1)],1)})),0)},a=[],l={components:{},props:["mvList"],data(){return{}},computed:{},methods:{}},r=l,c=(i("0f2a"),i("2877")),o=Object(c["a"])(r,e,a,!1,null,"05b0808c",null);s["a"]=o.exports},"5b0d":function(t,s,i){},"60a6":function(t,s,i){},"6b37":function(t,s,i){"use strict";i("5b0d")},"7a03":function(t,s,i){},ab8b:function(t,s,i){},df58:function(t,s,i){"use strict";i("7a03")},dfd5:function(t,s,i){"use strict";var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"playlist"},t._l(t.playList,(function(i){return s("div",{key:i.id,staticClass:"item"},[s("router-link",{staticClass:"faceImg",attrs:{to:{path:"playlist/detail",query:{id:i.id}}}},[s("el-image",{attrs:{src:i.coverImgUrl,lazy:""}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])]),s("span",{staticClass:"playCount"},[s("i",{staticClass:"iconfont icon-playnum"}),s("em",[t._v(t._s(t.$utils.formartNum(i.playCount)))])])],1),s("div",{staticClass:"info"},[s("router-link",{staticClass:"info_name",attrs:{to:{path:"playlist/detail",query:{id:i.id}}}},[t._v(t._s(i.name)+" ")]),s("div",{staticClass:"tags"},t._l(i.tags,(function(i,e){return s("router-link",{key:e,staticClass:"tag",attrs:{to:{path:"/playlist",query:{cat:i}}}},[t._v("#"+t._s(i)+" ")])})),1)],1)],1)})),0)},a=[],l={components:{},props:["playList"],data(){return{}},computed:{},methods:{}},r=l,c=(i("eba5"),i("2877")),o=Object(c["a"])(r,e,a,!1,null,"47488a48",null);s["a"]=o.exports},eba5:function(t,s,i){"use strict";i("41e4")},efe3:function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"search"},[s("div",{staticClass:"search-hd"},[s("div",{staticClass:"w1200"},[s("div",{staticClass:"search-box"},[s("el-popover",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],ref:"popover",attrs:{placement:"bottom-start",trigger:"manual",width:"626","visible-arrow":"false"},model:{value:t.isShowSearch,callback:function(s){t.isShowSearch=s},expression:"isShowSearch"}},[s("el-input",{staticClass:"search-inp",attrs:{slot:"reference",placeholder:"请输入歌名、歌词、歌手或专辑",clearable:""},on:{focus:t.getListHandle,input:t.getListHandle},slot:"reference",model:{value:t.keyVal,callback:function(s){t.keyVal=s},expression:"keyVal"}}),[s("div",{staticClass:"search-key-list"},t._l(t.suggestInfo.order,(function(i,e){return s("div",{key:e,staticClass:"search-item"},[s("h6",[t._v(t._s(t.listType[i]))]),s("div",{staticClass:"item-main"},t._l(t.suggestInfo[i],(function(e,a){return s("div",{key:a,staticClass:"list",on:{click:function(s){return t.jumpPage(e,i)}}},[t._v(" "+t._s(e.name)+" "),"songs"===i?[t._v(" -"),t._l(e.artists,(function(i,e){return s("span",{key:e},[t._v(t._s(i.name+(0!==e?" / ":"")))])}))]:"albums"===i?[t._v(" -"),s("span",[t._v(t._s(e.artist.name))])]:t._e()],2)})),0)])})),0)]],2),s("i",{staticClass:"iconfont icon-search",attrs:{slot:"suffix"},on:{click:function(s){return s.stopPropagation(),t.jumpSearch(t.keyVal)}},slot:"suffix"}),t.history.length?s("div",{staticClass:"search-history"},[s("span",[t._v("历史搜索：")])]):t._e()],1)])]),s("div",{staticClass:"w1200"},[s("div",{staticClass:"search-main"},[s("div",{staticClass:"search-tab"},[s("h2",[t._v("搜索结果"),s("em",[t._v("("+t._s(t.searchInfo)+")")])]),s("div",{staticClass:"type"},[s("span",{class:"1"===t.type?"active":"",on:{click:function(s){return t.selectType("1")}}},[t._v("单曲")]),s("span",{class:"10"===t.type?"active":"",on:{click:function(s){return t.selectType("10")}}},[t._v("专辑")]),s("span",{class:"100"===t.type?"active":"",on:{click:function(s){return t.selectType("100")}}},[t._v("歌手")]),s("span",{class:"1000"===t.type?"active":"",on:{click:function(s){return t.selectType("1000")}}},[t._v("歌单")]),s("span",{class:"1004"===t.type?"active":"",on:{click:function(s){return t.selectType("1004")}}},[t._v("MV")]),s("span",{class:"1014"===t.type?"active":"",on:{click:function(s){return t.selectType("1014")}}},[t._v("视频")])])]),s("div",{staticClass:"search-list"},["1"===t.type?s("song-list",{attrs:{songList:t.list,stripe:!0,offset:t.offset}}):t._e(),"10"===t.type?s("album-list",{attrs:{albumList:t.list}}):t._e(),"100"===t.type?s("artist-list",{attrs:{artistList:t.list}}):t._e(),"1000"===t.type?s("play-list",{attrs:{playList:t.list}}):t._e(),"1004"===t.type?s("mv-list",{attrs:{mvList:t.list}}):t._e(),"1014"===t.type?s("video-list",{attrs:{videoList:t.list}}):t._e()],1),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"","current-page":t.currentpage,"page-size":t.limit,layout:"prev, pager, next",total:t.total},on:{"current-change":t.currentChange}})],1)])])])},a=[],l=(i("14d9"),i("18fd")),r=i("2253"),c=function(){var t=this,s=t._self._c;return s("div",{staticClass:"artist"},t._l(t.artistList,(function(i){return s("router-link",{key:i.id,staticClass:"item",attrs:{to:{path:"/singer",query:{id:i.id}}}},[s("div",{staticClass:"faceImg"},[s("el-image",{attrs:{src:i.picUrl+"?param=120y120"}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"info"},[s("div",{staticClass:"name"},[t._v(t._s(i.name))]),s("div",{staticClass:"albumSize"},[t._v("专辑："+t._s(i.albumSize))])])])})),1)},o=[],n={components:{},props:["artistList"],data(){return{}},computed:{},methods:{}},u=n,h=(i("2960"),i("2877")),p=Object(h["a"])(u,c,o,!1,null,"e9bf8726",null),d=p.exports,m=i("dfd5"),v=i("57b7"),y=function(){var t=this,s=t._self._c;return s("div",{staticClass:"video"},t._l(t.videoList,(function(i,e){return s("div",{key:""+i.id+e,staticClass:"item"},[s("router-link",{staticClass:"faceImg",attrs:{to:{path:i.type?"/video":"/mv",query:{id:i.vid}}}},[s("i",{staticClass:"iconfont icon-play"}),s("el-image",{attrs:{src:i.coverUrl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])]),s("span",{staticClass:"playCount"},[s("i",{staticClass:"iconfont icon-video"}),s("em",[t._v(t._s(t.$utils.formartNum(i.playTime)))])]),s("div",{staticClass:"v-time"},[t._v(t._s(t.$utils.formatSongTime(i.durationms)))])],1),s("div",{staticClass:"info"},[s("router-link",{staticClass:"v-name",attrs:{to:{path:"/video",query:{id:i.vid}}}},[t._v(t._s(i.title))]),t._l(i.creator,(function(i,e){return s("router-link",{key:e,staticClass:"v-author",attrs:{to:{path:"/user",query:{uid:i.userId}}}},[t._v("By. "+t._s(0!==e?" / "+i.userName:i.userName))])}))],2)],1)})),0)},f=[],_={components:{},props:["videoList"],data(){return{}},computed:{},methods:{}},g=_,C=(i("df58"),Object(h["a"])(g,y,f,!1,null,"ecf46e38",null)),k=C.exports,b={name:"search",components:{songList:l["a"],albumList:r["a"],artistList:d,playList:m["a"],mvList:v["a"],videoList:k},data(){return{keyVal:this.$route.query.key,suggestInfo:{},listType:{songs:"单曲",artists:"歌手",albums:"专辑",playlists:"歌单"},type:this.$route.query.type||"1",history:[],list:[],total:0,offset:0,limit:30,currentpage:0,isShowSearch:!1}},computed:{searchInfo(){const t={1:"首单曲",10:"张专辑",100:"个歌手",1e3:"个歌单",1002:"个用户",1004:"个MV",1014:"个视频",1018:"个"};return this.total+t[this.type]}},mounted(){this.getSerachMatch()},methods:{async getSerachSuggest(){const{data:t}=await this.$http.serachSuggest({keywords:this.keyVal});if(200!==t.code)return this.$msg.error("数据请求失败");this.suggestInfo=t.result},async getSerachMatch(){const{data:t}=await this.$http.cloudsearch({keywords:this.keyVal,type:this.type,limit:this.limit,offset:this.offset});if(200!==t.code)return this.$msg.error("数据请求失败");"1"===this.type?(this.list=t.result.songs.map(t=>({id:String(t.id),name:t.name,mvId:t.mv,singer:t.ar,album:t.al,alia:t.alia,vip:1===t.fee,license:t.license,duration:this.$utils.formatSongTime(t.dt),url:`https://music.163.com/song/media/outer/url?id=${t.id}.mp3`,publishTime:this.$utils.formatMsgTime(t.publishTime)})),this.total=t.result.songCount):"10"===this.type?(this.list=t.result.albums,this.total=t.result.albumCount):"100"===this.type?(this.list=t.result.artists,this.total=t.result.artistCount):"1000"===this.type?(this.list=t.result.playlists,this.total=t.result.playlistCount):"1004"===this.type?(this.list=t.result.mvs,this.total=t.result.mvCount):"1014"===this.type&&(this.list=t.result.videos,this.total=t.result.videoCount)},jumpSearch(t){t&&(this.keyVal&&this.keyVal!==this.$route.query.key?(this.$router.push({path:"/search",query:{key:t,type:this.type}}),this.isShowSearch=!1):(this.list=[],this.getSerachMatch()))},jumpPage(t,s){switch(this.keyVal=t.name,s){case"songs":this.$router.push({path:"/song",query:{id:t.id}});break;case"artists":this.$router.push({path:"/singer",query:{id:t.id}});break;case"albums":this.$router.push({path:"/album",query:{id:t.id}});break;case"playlists":this.$router.push({path:"/playlist/detail",query:{id:t.id}});break}this.isShowSearch=!1},getListHandle(){this.keyVal?(this.suggestInfo={},this.getSerachSuggest(),this.isShowSearch=!0):this.isShowSearch=!1},handleClose(){this.isShowSearch=!1},selectType(t){this.type=t,this.offset=0,this.currentpage=0,this.$router.push({path:"/search",query:{key:this.keyVal,type:this.type}})},currentChange(t){this.offset=(t-1)*this.limit,this.currentpage=t,this.getSerachMatch()}},watch:{$route(t,s){this.keyVal=this.$route.query.key,this.type=this.$route.query.type||"1",this.getSerachMatch()}}},S=b,w=(i("1b64"),Object(h["a"])(S,e,a,!1,null,"29c27c8b",null));s["default"]=w.exports}}]);
//# sourceMappingURL=chunk-62660a3c.e1c99bf6.js.map