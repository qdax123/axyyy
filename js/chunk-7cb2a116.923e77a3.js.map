{"version":3,"sources":["webpack:///./src/components/common/playlist.vue?103f","webpack:///./src/views/playlist/index.vue","webpack:///./src/components/common/playlist.vue","webpack:///src/components/common/playlist.vue","webpack:///./src/components/common/playlist.vue?6dca","webpack:///./src/components/common/playlist.vue?73b9","webpack:///src/views/playlist/index.vue","webpack:///./src/views/playlist/index.vue?11f4","webpack:///./src/views/playlist/index.vue?caab","webpack:///./src/components/common/play-list.vue","webpack:///src/components/common/play-list.vue","webpack:///./src/components/common/play-list.vue?44c8","webpack:///./src/components/common/play-list.vue?ad11","webpack:///./src/components/common/play-list.vue?7bab","webpack:///./src/views/playlist/index.vue?7eb1"],"names":["render","_vm","this","_c","_self","staticClass","_l","categories","item","index","key","_v","_s","name","children","slice","sub","class","curType","on","$event","selectType","attrs","length","moreTxt","slot","_e","allList","closed","params","order","selectOrder","staticRenderFns","directives","rawName","value","loadMore","expression","list","isLoading","components","playList","Loading","created","getPlayList","props","type","Object","default","isScroll","Boolean","data","busy","computed","methods","res","$http","code","$msg","error","offset","playlists","total","watch","handler","newVal","oldVal","cat","deep","component","PlayList","$route","query","getCatlist","limit","catlist","k","filter","subItem","category","Number","push","all","getMoreTxt","$router","path","itemInfo","find","indexOf","assign","id","coverImgUrl","$utils","formartNum","playCount","tags","tag"],"mappings":"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","file":"js/chunk-7cb2a116.923e77a3.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./playlist.vue?vue&type=style&index=0&id=2a784c70&prod&scoped=true&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"playlist\"},[_c('div',{staticClass:\"w1200\"},[_c('div',{staticClass:\"filter\"},_vm._l((_vm.categories),function(item,index){return _c('div',{key:index,staticClass:\"filter-item\"},[_c('div',{staticClass:\"filter-title\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"filter-box\"},[_vm._l((item.children.slice(0, 8)),function(sub){return _c('span',{key:sub.name,class:['item-box', _vm.curType === sub.name ? 'active' : '']},[_c('em',{on:{\"click\":function($event){return _vm.selectType(sub)}}},[_vm._v(_vm._s(sub.name))])])}),_c('el-popover',{attrs:{\"trigger\":\"click\"}},[(item.children.length > 9)?_c('span',{class:['item-box', 'filter-more', _vm.moreTxt[index] ? 'active' : ''],attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('em',[_vm._v(_vm._s(_vm.moreTxt[index] ? _vm.curType : '更多')),_c('i',{staticClass:\"iconfont icon-arrow\"})])]):_vm._e(),_c('div',{staticClass:\"filter-drop\"},_vm._l((item.children.slice(9)),function(sub){return _c('span',{key:sub.name,class:['item-box', _vm.curType === sub.name ? 'active' : '']},[_c('em',{on:{\"click\":function($event){return _vm.selectType(sub, index)}}},[_vm._v(_vm._s(sub.name))])])}),0)])],2)])}),0),_c('div',{staticClass:\"list-container\"},[_c('div',{staticClass:\"list-head\"},[_c('h2',[_vm._v(_vm._s(_vm.curType)+\" \"),(_vm.curType !== _vm.allList.name)?_c('em',{staticClass:\"filter-close\",on:{\"click\":_vm.closed}},[_c('i',{staticClass:\"iconfont icon-closed\"})]):_vm._e()]),_c('div',{staticClass:\"type\"},[_c('span',{class:_vm.params.order === 'hot' ? 'active' : '',on:{\"click\":function($event){return _vm.selectOrder('hot')}}},[_vm._v(\"热门\")]),_c('span',{class:_vm.params.order === 'new' ? 'active' : '',on:{\"click\":function($event){return _vm.selectOrder('new')}}},[_vm._v(\"最新\")])])]),_c('PlayList',{attrs:{\"params\":_vm.params,\"isScroll\":true}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"wrapper infinite-list\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"50\"}},[_c('play-list',{attrs:{\"playList\":_vm.list}}),(_vm.isLoading)?[_c('Loading')]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class='wrapper infinite-list' v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"busy\" infinite-scroll-distance=\"50\">\n        <play-list :playList=\"list\"></play-list>\n        <template v-if=\"isLoading\">\n            <Loading />\n        </template>\n    </div>\n</template>\n\n<script>\nimport playList from '@components/common/play-list'\nimport Loading from '@components/common/loading'\nexport default {\n    name: 'PalyList',\n    components: {\n        playList,\n        Loading\n    },\n    created () {\n        this.getPlayList(this.params)\n    },\n    props: {\n        params: {\n            type: Object,\n            default: () => {}\n        },\n        // 是否有滚动条\n        isScroll: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data () {\n        // 这里存放数据\n        return {\n            list: [],\n            isLoading: true,\n            busy: true\n        }\n    },\n    // 监听属性 类似于data概念\n    computed: {},\n    // 方法集合\n    methods: {\n        async getPlayList (params) {\n            const { data: res } = await this.$http.playList(params)\n\n            if (res.code !== 200) {\n                return this.$msg.error('数据请求失败')\n            }\n\n            this.list = this.params.offset !== 0 ? [...this.list, ...res.playlists] : res.playlists\n            this.busy = this.list.length >= res.total\n            this.isLoading = !this.busy\n        },\n        loadMore () {\n            if (this.isScroll) {\n                this.busy = true\n                this.params.offset = this.list.length\n            }\n        }\n    },\n    watch: {\n        params: {\n            handler (newVal, oldVal) {\n                if (newVal.cat !== oldVal.cat) {\n                    this.list = []\n                }\n                this.getPlayList(newVal)\n            },\n            deep: true // 深度监听\n        }\n    }\n}\n</script>\n<style scoped lang=\"less\">\n.wrapper {\n    min-height: 500px;\n}\n.item {\n    width: 18%;\n    padding: 20px 2% 30px 0;\n    margin-right: -22px;\n\n    .faceImg {\n        display: block;\n        position: relative;\n        height: 216px;\n\n        &::after, &::before {\n            content: \"\";\n            width: 100%;\n            height: 100%;\n            background-color: #d9d9d9;\n            position: absolute;\n            top: 0;\n        }\n\n        &::before {\n            border: 1px solid #d6d6d6;\n            right: -4px;\n            -webkit-transform: scale(.85);\n            -ms-transform: scale(.85);\n            transform: scale(.85);\n            -webkit-transform-origin: 100% 50%;\n            -ms-transform-origin: 100% 50%;\n            transform-origin: 100% 50%;\n            z-index: 2;\n            border-radius: 2px;\n            transition: all .4s linear;\n        }\n\n        &::after {\n            border: 1px solid #c4c4c4;\n            right: -8px;\n            -webkit-transform: scale(.73);\n            -ms-transform: scale(.73);\n            transform: scale(.73);\n            -webkit-transform-origin: 100% 50%;\n            -ms-transform-origin: 100% 50%;\n            transform-origin: 100% 50%;\n            z-index: 1;\n            border-radius: 2px;\n            opacity: .5;\n            transition: all .4s linear .1s;\n        }\n    }\n\n    .el-image {\n        width: 100%;\n        height: 100%;\n        z-index: 3;\n        border-radius: 4px;\n    }\n\n    .playCount {\n        position: absolute;\n        top: 0;\n        right: 0;\n        z-index: 4;\n        font-size: 12px;\n        display: block;\n        width: 45%;\n        text-align: center;\n        color: #fff;\n        line-height: 30px;\n        border-radius: 0 4px 0 0;\n        /* Permalink - use to edit and share this gradient: https://colorzilla.com/gradient-editor/#000000+0,000000+100&0+0,0.5+97 */\n        background: -moz-linear-gradient(left,  rgba(0,0,0,0) 0%, rgba(0,0,0,0.5) 97%, rgba(0,0,0,0.5) 100%); /* FF3.6-15 */\n        background: -webkit-linear-gradient(left,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.5) 97%,rgba(0,0,0,0.5) 100%); /* Chrome10-25,Safari5.1-6 */\n        background: linear-gradient(to right,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.5) 97%,rgba(0,0,0,0.5) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00000000', endColorstr='#80000000',GradientType=1 ); /* IE6-9 */\n\n        .icon-playnum {\n            color: #fff;\n        }\n\n        em {\n            display: inline-block;\n            padding-left: 5px;\n            font-style: normal;\n        }\n    }\n\n    &:hover {\n        .faceImg {\n            position: relative;\n\n            &::after, &::before {\n                background: #ff960080\n            }\n\n            &::before {\n                right: -6px;\n            }\n\n            &::after {\n                right: -12px;\n            }\n        }\n\n        .info_name {\n            color: #000;\n        }\n    }\n}\n\n.info_name {\n    display: block;\n    font-size: 16px;\n    line-height: 22px;\n    margin-top: 15px;\n    font-weight: 400;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    word-break: break-all;\n}\n\n.tags {\n    padding: 5px 0;\n    .tag {\n        font-size: 12px;\n        color: @color-theme;\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./playlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./playlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./playlist.vue?vue&type=template&id=2a784c70&scoped=true&\"\nimport script from \"./playlist.vue?vue&type=script&lang=js&\"\nexport * from \"./playlist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./playlist.vue?vue&type=style&index=0&id=2a784c70&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a784c70\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class='playlist'>\n        <div class=\"w1200\">\n            <div class=\"filter\">\n                <div class=\"filter-item\" v-for=\"(item, index) in categories\" :key=\"index\">\n                    <div class=\"filter-title\">{{ item.name }}</div>\n                    <div class=\"filter-box\">\n                        <span :class=\"['item-box', curType === sub.name ? 'active' : '']\" v-for=\"sub in item.children.slice(0, 8)\" :key=\"sub.name\"><em @click=\"selectType(sub)\">{{ sub.name }}</em></span>\n                        <el-popover trigger=\"click\">\n                            <span :class=\"['item-box', 'filter-more', moreTxt[index] ? 'active' : '']\" slot=\"reference\" v-if=\"item.children.length > 9\"><em>{{ moreTxt[index] ? curType : '更多'}}<i class=\"iconfont icon-arrow\"></i></em></span>\n                            <div class=\"filter-drop\">\n                                <span :class=\"['item-box', curType === sub.name ? 'active' : '']\" v-for=\"sub in item.children.slice(9)\" :key=\"sub.name\"><em @click=\"selectType(sub, index)\">{{ sub.name }}</em></span>\n                            </div>\n                        </el-popover>\n                    </div>\n                </div>\n            </div>\n            <div class=\"list-container\">\n                <div class=\"list-head\">\n                    <h2>{{curType}} <em v-if=\"curType !== allList.name\" class=\"filter-close\" @click=\"closed\"><i class=\"iconfont icon-closed\"></i></em></h2>\n                    <div class=\"type\">\n                        <span :class=\"params.order === 'hot' ? 'active' : ''\" @click=\"selectOrder('hot')\">热门</span>\n                        <span :class=\"params.order === 'new' ? 'active' : ''\" @click=\"selectOrder('new')\">最新</span>\n                    </div>\n                </div>\n                <PlayList :params=\"params\" :isScroll=\"true\"></PlayList>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport PlayList from '@components/common/playlist.vue'\nexport default {\n    name: 'PlayListWrap',\n    components: {\n        PlayList\n    },\n    created () {\n        this.params.cat = this.$route.query.cat\n        this.getCatlist()\n    },\n    data () {\n        // 这里存放数据\n        return {\n            sub: [],\n            categories: [],\n            curType: '',\n            moreTxt: {},\n            allList: {},\n            params: {\n                order: 'hot',\n                cat: '',\n                limit: 50,\n                offset: 0\n            }\n        }\n    },\n    // 监听属性 类似于data概念\n    computed: {\n    },\n    // 方法集合\n    methods: {\n        async getCatlist () {\n            const { data: res } = await this.$http.catlist()\n            this.sub = res.sub\n\n            if (res.code !== 200) {\n                return this.$msg.error('数据请求失败')\n            }\n\n            for (const k in res.categories) {\n                const params = { name: res.categories[k] }\n\n                params.children = this.sub.filter(subItem => { return subItem.category === Number(k) })\n                this.categories.push(params)\n            }\n\n            this.curType = this.$route.query.cat ? this.$route.query.cat : res.all.name\n            this.allList = res.all\n            this.getMoreTxt()\n        },\n        selectType (item) {\n            this.$router.push({ path: 'playlist', query: { cat: item.name, order: this.params.order } })\n        },\n        closed () {\n            this.$router.push({ path: 'playlist' })\n        },\n        selectOrder (type) {\n            this.$router.push({ path: 'playlist', query: { cat: this.params.cat, order: type } })\n        },\n        getMoreTxt () {\n            // 查询当前显示的歌单分类详情，如：全部歌单、华语\n            const itemInfo = this.sub.find(subItem => { return subItem.name === this.curType })\n            this.moreTxt = {}\n            if (itemInfo) {\n                // 若有歌单分类，且分类歌单的索引在更多里面，则渲染moreText数据\n                const index = this.categories[itemInfo.category].children.indexOf(itemInfo)\n                index >= 8 && (this.moreTxt[itemInfo.category] = itemInfo)\n            }\n        }\n    },\n    watch: {\n        '$route' (newVal, oldVal) {\n            const { cat, order } = newVal.query\n\n            this.curType = cat || this.allList.name\n            this.params = Object.assign({}, { order: 'hot', cat: '', limit: 50, offset: 0 }, { cat: cat || '', order: order || 'hot' })\n            this.getMoreTxt()\n        }\n    }\n}\n</script>\n<style scoped lang=\"less\">\n.filter {\n    display: flex;\n    padding: 40px 0;\n}\n.filter-item {\n    flex: 2;\n    border-left: 1px solid #f5f5f5;\n    padding-left: 35px;\n\n    .filter-title {\n        font-weight: bold;\n        margin-bottom: 5px;\n    }\n\n    .filter-box {\n        font-size: 0;\n    }\n\n    .item-box {\n        display: inline-block;\n        width: calc(100% / 3);\n        vertical-align: top;\n\n        em {\n            display: inline-block;\n            font-style: normal;\n            font-size: 14px;\n            line-height: 26px;\n            margin-top: 4px;\n            cursor: pointer;\n        }\n\n        &.active {\n\n            em {\n                padding: 0 6px 0 5px;\n                margin: 4px -5px 0;\n                color: #fff;\n                font-style: normal;\n                background: @color-theme;\n            }\n        }\n    }\n\n    .filter-more {\n        width: 50px;\n\n        &.active {\n\n            em {\n                width: 40px;\n                overflow: hidden;\n                height: 26px;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n                vertical-align: top;\n            }\n        }\n    }\n\n    &:first-child {\n        flex: 1;\n        border: 0;\n        padding-left: 0;\n\n        .item-box {\n            width: 50%;\n        }\n    }\n}\n.filter-drop {\n\n    .item-box {\n        display: inline-block;\n        line-height: 26px;\n        padding: 0 15px;\n        font-size: 14px;\n\n        em {\n            display: inline-block;\n            font-style: normal;\n            cursor: pointer;\n        }\n\n        &.active {\n\n            em {\n                padding: 0 5px;\n                margin: 0 -5px;\n                color: #fff;\n                font-style: normal;\n                background: @color-theme;\n            }\n        }\n    }\n}\n\n.list-head {\n    display: flex;\n    padding: 15px 0;\n\n    h2 {\n        font-size: 24px;\n        line-height: 30px;\n    }\n\n    .filter-close {\n        display: inline-block;\n        line-height: 16px;\n        vertical-align: top;\n        cursor: pointer;\n    }\n\n    .type {\n        flex: 1;\n        padding: 5px 40px;\n\n        span {\n            position: relative;\n            display: inline-block;\n            height: 20px;\n            line-height: 20px;\n            margin-right: 34px;\n            font-weight: 300;\n            color: #333;\n            cursor: pointer;\n\n            &.active {\n                font-weight: 600;\n                color: #000;\n\n                &::after {\n                    position: absolute;\n                    content: \"\";\n                    left: 0;\n                    bottom: 1px;\n                    width: 100%;\n                    height: 6px;\n                    background: @color-theme;\n                    z-index: -1;\n                }\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=787903de&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=787903de&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"787903de\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"playlist\"},_vm._l((_vm.playList),function(item){return _c('div',{key:item.id,staticClass:\"item\"},[_c('router-link',{staticClass:\"faceImg\",attrs:{\"to\":{ path: 'playlist/detail', query: { id: item.id }}}},[_c('el-image',{attrs:{\"src\":item.coverImgUrl,\"lazy\":\"\"}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"iconfont icon-placeholder\"})])]),_c('span',{staticClass:\"playCount\"},[_c('i',{staticClass:\"iconfont icon-playnum\"}),_c('em',[_vm._v(_vm._s(_vm.$utils.formartNum(item.playCount)))])])],1),_c('div',{staticClass:\"info\"},[_c('router-link',{staticClass:\"info_name\",attrs:{\"to\":{ path: 'playlist/detail', query: { id: item.id }}}},[_vm._v(_vm._s(item.name)+\" \")]),_c('div',{staticClass:\"tags\"},_vm._l((item.tags),function(tag,index){return _c('router-link',{key:index,staticClass:\"tag\",attrs:{\"to\":{ path: '/playlist', query: { cat: tag }}}},[_vm._v(\"#\"+_vm._s(tag)+\" \")])}),1)],1)],1)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class='playlist'>\n        <div class=\"item\" v-for=\"item in playList\" :key=\"item.id\">\n            <router-link :to=\"{ path: 'playlist/detail', query: { id: item.id }}\" class=\"faceImg\">\n                <el-image :src=\"item.coverImgUrl\" lazy>\n                    <div slot=\"placeholder\" class=\"image-slot\">\n                        <i class=\"iconfont icon-placeholder\"></i>\n                    </div>\n                </el-image>\n                <span class=\"playCount\"><i class=\"iconfont icon-playnum\"></i><em>{{$utils.formartNum(item.playCount)}}</em></span>\n            </router-link>\n            <div class=\"info\">\n                <router-link :to=\"{ path: 'playlist/detail', query: { id: item.id }}\" class=\"info_name\">{{item.name}} </router-link>\n                <div class=\"tags\">\n                    <router-link :to=\"{ path: '/playlist', query: { cat: tag }}\" class=\"tag\" v-for=\"(tag, index) in item.tags\" :key=\"index\">#{{tag}} </router-link>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    components: {},\n    props: ['playList'],\n    data () {\n        // 这里存放数据\n        return {\n        }\n    },\n    // 监听属性 类似于data概念\n    computed: {},\n    // 方法集合\n    methods: {\n    }\n}\n</script>\n<style scoped lang=\"less\">\n.playlist {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    font-size: 0;\n}\n.item {\n    width: 18%;\n    padding: 20px 2% 30px 0;\n    margin-right: -22px;\n\n    .faceImg {\n        display: block;\n        position: relative;\n        height: 216px;\n\n        &::after, &::before {\n            content: \"\";\n            width: 100%;\n            height: 100%;\n            background-color: #d9d9d9;\n            position: absolute;\n            top: 0;\n        }\n\n        &::before {\n            border: 1px solid #d6d6d6;\n            right: -4px;\n            -webkit-transform: scale(.85);\n            -ms-transform: scale(.85);\n            transform: scale(.85);\n            -webkit-transform-origin: 100% 50%;\n            -ms-transform-origin: 100% 50%;\n            transform-origin: 100% 50%;\n            z-index: 2;\n            border-radius: 2px;\n            transition: all .4s linear;\n        }\n\n        &::after {\n            border: 1px solid #c4c4c4;\n            right: -8px;\n            -webkit-transform: scale(.73);\n            -ms-transform: scale(.73);\n            transform: scale(.73);\n            -webkit-transform-origin: 100% 50%;\n            -ms-transform-origin: 100% 50%;\n            transform-origin: 100% 50%;\n            z-index: 1;\n            border-radius: 2px;\n            opacity: .5;\n            transition: all .4s linear .1s;\n        }\n    }\n\n    .el-image {\n        width: 100%;\n        height: 100%;\n        z-index: 3;\n        border-radius: 4px;\n    }\n\n    .playCount {\n        position: absolute;\n        top: 0;\n        right: 0;\n        z-index: 4;\n        font-size: 12px;\n        display: block;\n        width: 45%;\n        text-align: center;\n        color: #fff;\n        line-height: 30px;\n        border-radius: 0 4px 0 0;\n        /* Permalink - use to edit and share this gradient: https://colorzilla.com/gradient-editor/#000000+0,000000+100&0+0,0.5+97 */\n        background: -moz-linear-gradient(left,  rgba(0,0,0,0) 0%, rgba(0,0,0,0.5) 97%, rgba(0,0,0,0.5) 100%); /* FF3.6-15 */\n        background: -webkit-linear-gradient(left,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.5) 97%,rgba(0,0,0,0.5) 100%); /* Chrome10-25,Safari5.1-6 */\n        background: linear-gradient(to right,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.5) 97%,rgba(0,0,0,0.5) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00000000', endColorstr='#80000000',GradientType=1 ); /* IE6-9 */\n\n        .icon-playnum {\n            color: #fff;\n        }\n\n        em {\n            display: inline-block;\n            padding-left: 5px;\n            font-style: normal;\n        }\n    }\n\n    &:hover {\n        .faceImg {\n            position: relative;\n\n            &::after, &::before {\n                background: #ff960080\n            }\n\n            &::before {\n                right: -6px;\n            }\n\n            &::after {\n                right: -12px;\n            }\n        }\n\n        .info_name {\n            color: #000;\n        }\n    }\n\n    .info_name {\n        display: block;\n        font-size: 16px;\n        line-height: 22px;\n        margin-top: 15px;\n        font-weight: 400;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n        word-break: break-all;\n    }\n\n    .tags {\n        padding: 5px 0;\n        .tag {\n            font-size: 12px;\n            color: @color-theme;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./play-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./play-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./play-list.vue?vue&type=template&id=47488a48&scoped=true&\"\nimport script from \"./play-list.vue?vue&type=script&lang=js&\"\nexport * from \"./play-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./play-list.vue?vue&type=style&index=0&id=47488a48&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47488a48\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./play-list.vue?vue&type=style&index=0&id=47488a48&prod&scoped=true&lang=less&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=787903de&prod&scoped=true&lang=less&\""],"sourceRoot":""}