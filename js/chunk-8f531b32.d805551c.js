(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8f531b32"],{"04ad":function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"artist"},[a("div",{staticClass:"w1200"},[a("div",{staticClass:"filter"},[a("div",{staticClass:"filter-item"},t._l(t.initial,(function(i,s){return a("span",{key:s,class:s===t.initialIndex?"active":"",on:{click:function(a){return t.selectType("initial",s)}}},[t._v(t._s(i.label))])})),0),a("div",{staticClass:"filter-item"},t._l(t.area,(function(i,s){return a("span",{key:s,class:s===t.areaIndex?"active":"",on:{click:function(a){return t.selectType("area",s)}}},[t._v(t._s(i.label))])})),0),a("div",{staticClass:"filter-item"},t._l(t.type,(function(i,s){return a("span",{key:s,class:s===t.typeIndex?"active":"",on:{click:function(a){return t.selectType("type",s)}}},[t._v(t._s(i.label))])})),0)]),a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list-container"},t._l(t.list,(function(i){return a("router-link",{key:i.id,staticClass:"item",attrs:{to:{path:"/singer",query:{id:i.id}}}},[a("div",{staticClass:"faceImg"},[a("el-image",{attrs:{src:i.picUrl+"?param=120y120"}},[a("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[a("i",{staticClass:"iconfont icon-placeholder"})])])],1),a("div",{staticClass:"info"},[a("div",{staticClass:"name"},[t._v(t._s(i.name))]),a("div",{staticClass:"albumSize"},[t._v("专辑："+t._s(i.albumSize))])])])})),1),t.isLoading?[a("Loading")]:t._e()],2)])},e=[],l=(i("14d9"),i("bf93")),n={name:"artist",components:{Loading:l["a"]},data(){return{type:[{label:"全部",val:-1},{label:"男歌手",val:1},{label:"女歌手",val:2},{label:"乐队",val:3}],area:[{label:"全部",val:-1},{label:"华语",val:7},{label:"欧美",val:96},{label:"日本",val:8},{label:"韩国",val:16},{label:"其他",val:0}],initial:[{label:"热门",val:-1},{label:"#",val:0}],typeIndex:0,areaIndex:0,initialIndex:0,params:{area:"",type:"",initial:"",limit:30,offset:0},list:[],isLoading:!0,isLoadMv:!0}},computed:{},mounted(){this.params.area=this.area[this.areaIndex].val,this.params.type=this.type[this.typeIndex].val,this.params.initial=this.initial[this.initialIndex].val,this.renderInitial()},methods:{renderInitial(){const t=[];for(let a=0;a<26;a++)t.push({label:String.fromCharCode(65+a),val:String.fromCharCode(97+a)});this.initial=[this.initial[0],...t,this.initial[1]]},selectType(t,a){this[t+"Index"]=a,this.list=[],this.params.offset=0,this.params[t]=this[t][a].val},async getArtist(t){const{data:a}=await this.$http.artistList(t);if(200!==a.code)return this.$msg.error("数据请求失败");this.list=0!==this.params.offset?[...this.list,...a.artists]:a.artists,this.isLoadMv=!a.more,this.isLoading=a.more},loadMore(){this.isLoadMv=!0,this.params.offset=this.list.length}},watch:{params:{handler(t){this.getArtist(t)},deep:!0}}},r=n,c=(i("83a7"),i("2877")),o=Object(c["a"])(r,s,e,!1,null,"1e1acae0",null);a["default"]=o.exports},"3fcf":function(t,a,i){},"83a7":function(t,a,i){"use strict";i("3fcf")}}]);
//# sourceMappingURL=chunk-8f531b32.d805551c.js.map